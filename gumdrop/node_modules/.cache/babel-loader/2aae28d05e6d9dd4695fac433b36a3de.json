{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.processPackVouchers = void 0;\n\nvar __1 = require(\"../..\");\n\nvar PackVoucher_1 = require(\"../../models/packs/accounts/PackVoucher\");\n\nvar utils_1 = require(\"../../utils\");\n\nvar processPackVouchers = function processPackVouchers(_ref, setter) {\n  var account = _ref.account,\n      pubkey = _ref.pubkey;\n  if (!isPackAccount(account)) return;\n\n  try {\n    if (isPackVoucherAccount(account)) {\n      var packVoucher = (0, PackVoucher_1.decodePackVoucher)(account.data);\n      var parsedAccount = {\n        pubkey: pubkey,\n        account: account,\n        info: packVoucher\n      };\n      setter('vouchers', pubkey, parsedAccount);\n    }\n  } catch (_unused) {// ignore errors\n    // add type as first byte for easier deserialization\n  }\n};\n\nexports.processPackVouchers = processPackVouchers;\n\nvar isPackAccount = function isPackAccount(account) {\n  return account && (0, utils_1.pubkeyToString)(account.owner) === utils_1.PACK_CREATE_ID.toString();\n};\n\nvar isPackVoucherAccount = function isPackVoucherAccount(account) {\n  return account.data[0] === __1.PackKey.PackVoucher;\n};","map":{"version":3,"sources":["../../../../src/contexts/meta/processPackVouchers.ts"],"names":[],"mappings":";;;;;;;AACA,IAAA,GAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,aAAA,GAAA,OAAA,CAAA,yCAAA,CAAA;;AAIA,IAAA,OAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAIO,IAAM,mBAAmB,GAAwB,SAA3C,mBAA2C,OAEtD,MAFsD,EAGpD;AAAA,MAFA,OAEA,QAFA,OAEA;AAAA,MAFS,MAET,QAFS,MAET;AACF,MAAI,CAAC,aAAa,CAAC,OAAD,CAAlB,EAA6B;;AAE7B,MAAI;AACF,QAAI,oBAAoB,CAAC,OAAD,CAAxB,EAAmC;AACjC,UAAM,WAAW,GAAG,CAAA,GAAA,aAAA,CAAA,iBAAA,EAAkB,OAAO,CAAC,IAA1B,CAApB;AACA,UAAM,aAAa,GAA+B;AAChD,QAAA,MAAM,EAAN,MADgD;AAEhD,QAAA,OAAO,EAAE,OAFuC;AAGhD,QAAA,IAAI,EAAE;AAH0C,OAAlD;AAMA,MAAA,MAAM,CAAC,UAAD,EAAa,MAAb,EAAqB,aAArB,CAAN;AACD;AACF,GAXD,CAWE,gBAAM,CACN;AACA;AACD;AACF,CArBM;;AAAM,OAAA,CAAA,mBAAA,GAAmB,mBAAnB;;AAuBb,IAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,OAAD;AAAA,SACpB,OAAO,IAAI,CAAA,GAAA,OAAA,CAAA,cAAA,EAAe,OAAO,CAAC,KAAvB,MAAkC,OAAA,CAAA,cAAA,CAAe,QAAf,EADzB;AAAA,CAAtB;;AAGA,IAAM,oBAAoB,GAAG,SAAvB,oBAAuB,CAAC,OAAD;AAAA,SAC3B,OAAO,CAAC,IAAR,CAAa,CAAb,MAAoB,GAAA,CAAA,OAAA,CAAQ,WADD;AAAA,CAA7B","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.processPackVouchers = void 0;\r\nconst __1 = require(\"../..\");\r\nconst PackVoucher_1 = require(\"../../models/packs/accounts/PackVoucher\");\r\nconst utils_1 = require(\"../../utils\");\r\nconst processPackVouchers = ({ account, pubkey }, setter) => {\r\n    if (!isPackAccount(account))\r\n        return;\r\n    try {\r\n        if (isPackVoucherAccount(account)) {\r\n            const packVoucher = (0, PackVoucher_1.decodePackVoucher)(account.data);\r\n            const parsedAccount = {\r\n                pubkey,\r\n                account: account,\r\n                info: packVoucher,\r\n            };\r\n            setter('vouchers', pubkey, parsedAccount);\r\n        }\r\n    }\r\n    catch {\r\n        // ignore errors\r\n        // add type as first byte for easier deserialization\r\n    }\r\n};\r\nexports.processPackVouchers = processPackVouchers;\r\nconst isPackAccount = (account) => account && (0, utils_1.pubkeyToString)(account.owner) === utils_1.PACK_CREATE_ID.toString();\r\nconst isPackVoucherAccount = (account) => account.data[0] === __1.PackKey.PackVoucher;\r\n//# sourceMappingURL=processPackVouchers.js.map"]},"metadata":{},"sourceType":"script"}