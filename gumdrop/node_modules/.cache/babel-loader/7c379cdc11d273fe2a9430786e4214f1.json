{"ast":null,"code":"\"use strict\";\n\nvar _createClass = require(\"C:\\\\Users\\\\AHSAN PC\\\\Desktop\\\\digitsu\\\\gamp\\\\js\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\createClass.js\").default;\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\AHSAN PC\\\\Desktop\\\\digitsu\\\\gamp\\\\js\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\classCallCheck.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getVouchersByPackSet = exports.decodePackVoucher = exports.PACK_VOUCHER_SCHEMA = exports.PackVoucher = void 0;\n\nvar borsh_1 = require(\"borsh\");\n\nvar __1 = require(\"..\");\n\nvar __2 = require(\"../../..\");\n\nvar web3_1 = require(\"../../../contexts/meta/web3\");\n\nvar PackVoucher = /*#__PURE__*/_createClass(function PackVoucher(args) {\n  _classCallCheck(this, PackVoucher);\n\n  this.key = __1.PackKey.PackVoucher;\n  this.key = __1.PackKey.PackSet;\n  this.packSet = args.packSet;\n  this.master = args.master;\n  this.metadata = args.metadata;\n});\n\nexports.PackVoucher = PackVoucher;\nexports.PACK_VOUCHER_SCHEMA = new Map([[PackVoucher, {\n  kind: 'struct',\n  fields: [['key', 'u8'], ['packSet', 'pubkeyAsString'], ['master', 'pubkeyAsString'], ['metadata', 'pubkeyAsString']]\n}]]);\n\nvar decodePackVoucher = function decodePackVoucher(buffer) {\n  return (0, borsh_1.deserializeUnchecked)(exports.PACK_VOUCHER_SCHEMA, PackVoucher, buffer);\n};\n\nexports.decodePackVoucher = decodePackVoucher;\n\nvar getVouchersByPackSet = function getVouchersByPackSet(_ref) {\n  var connection = _ref.connection,\n      packSetKey = _ref.packSetKey;\n  return (0, web3_1.getProgramAccounts)(connection, __2.PACK_CREATE_ID.toString(), {\n    filters: [{\n      dataSize: __1.MAX_PACK_VOUCHER_SIZE\n    }, {\n      memcmp: {\n        offset: 1,\n        bytes: (0, __2.toPublicKey)(packSetKey).toBase58()\n      }\n    }]\n  });\n};\n\nexports.getVouchersByPackSet = getVouchersByPackSet;","map":{"version":3,"sources":["../../../../../src/models/packs/accounts/PackVoucher.ts"],"names":[],"mappings":";;;;;;;;;;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,IAAA,GAAA,GAAA,OAAA,CAAA,IAAA,CAAA;;AACA,IAAA,GAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AAMA,IAAA,MAAA,GAAA,OAAA,CAAA,6BAAA,CAAA;;IAEa,W,6BAMX,qBAAY,IAAZ,EAKC;AAAA;;AAVD,OAAA,GAAA,GAAe,GAAA,CAAA,OAAA,CAAQ,WAAvB;AAWE,OAAK,GAAL,GAAW,GAAA,CAAA,OAAA,CAAQ,OAAnB;AACA,OAAK,OAAL,GAAe,IAAI,CAAC,OAApB;AACA,OAAK,MAAL,GAAc,IAAI,CAAC,MAAnB;AACA,OAAK,QAAL,GAAgB,IAAI,CAAC,QAArB;AACD,C;;AAhBH,OAAA,CAAA,WAAA,GAAA,WAAA;AAmBa,OAAA,CAAA,mBAAA,GAAsB,IAAI,GAAJ,CAAkB,CACnD,CACE,WADF,EAEE;AACE,EAAA,IAAI,EAAE,QADR;AAEE,EAAA,MAAM,EAAE,CACN,CAAC,KAAD,EAAQ,IAAR,CADM,EAEN,CAAC,SAAD,EAAY,gBAAZ,CAFM,EAGN,CAAC,QAAD,EAAW,gBAAX,CAHM,EAIN,CAAC,UAAD,EAAa,gBAAb,CAJM;AAFV,CAFF,CADmD,CAAlB,CAAtB;;AAeN,IAAM,iBAAiB,GAAG,SAApB,iBAAoB,CAAC,MAAD,EAAmB;AAClD,SAAO,CAAA,GAAA,OAAA,CAAA,oBAAA,EACL,OAAA,CAAA,mBADK,EAEL,WAFK,EAGL,MAHK,CAAP;AAKD,CANM;;AAAM,OAAA,CAAA,iBAAA,GAAiB,iBAAjB;;AAQN,IAAM,oBAAoB,GAAG,SAAvB,oBAAuB;AAAA,MAClC,UADkC,QAClC,UADkC;AAAA,MAElC,UAFkC,QAElC,UAFkC;AAAA,SAOlC,CAAA,GAAA,MAAA,CAAA,kBAAA,EAAmB,UAAnB,EAA+B,GAAA,CAAA,cAAA,CAAe,QAAf,EAA/B,EAA0D;AACxD,IAAA,OAAO,EAAE,CACP;AACE,MAAA,QAAQ,EAAE,GAAA,CAAA;AADZ,KADO,EAIP;AACE,MAAA,MAAM,EAAE;AACN,QAAA,MAAM,EAAE,CADF;AAEN,QAAA,KAAK,EAAE,CAAA,GAAA,GAAA,CAAA,WAAA,EAAY,UAAZ,EAAwB,QAAxB;AAFD;AADV,KAJO;AAD+C,GAA1D,CAPkC;AAAA,CAA7B;;AAAM,OAAA,CAAA,oBAAA,GAAoB,oBAApB","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getVouchersByPackSet = exports.decodePackVoucher = exports.PACK_VOUCHER_SCHEMA = exports.PackVoucher = void 0;\r\nconst borsh_1 = require(\"borsh\");\r\nconst __1 = require(\"..\");\r\nconst __2 = require(\"../../..\");\r\nconst web3_1 = require(\"../../../contexts/meta/web3\");\r\nclass PackVoucher {\r\n    constructor(args) {\r\n        this.key = __1.PackKey.PackVoucher;\r\n        this.key = __1.PackKey.PackSet;\r\n        this.packSet = args.packSet;\r\n        this.master = args.master;\r\n        this.metadata = args.metadata;\r\n    }\r\n}\r\nexports.PackVoucher = PackVoucher;\r\nexports.PACK_VOUCHER_SCHEMA = new Map([\r\n    [\r\n        PackVoucher,\r\n        {\r\n            kind: 'struct',\r\n            fields: [\r\n                ['key', 'u8'],\r\n                ['packSet', 'pubkeyAsString'],\r\n                ['master', 'pubkeyAsString'],\r\n                ['metadata', 'pubkeyAsString'],\r\n            ],\r\n        },\r\n    ],\r\n]);\r\nconst decodePackVoucher = (buffer) => {\r\n    return (0, borsh_1.deserializeUnchecked)(exports.PACK_VOUCHER_SCHEMA, PackVoucher, buffer);\r\n};\r\nexports.decodePackVoucher = decodePackVoucher;\r\nconst getVouchersByPackSet = ({ connection, packSetKey, }) => (0, web3_1.getProgramAccounts)(connection, __2.PACK_CREATE_ID.toString(), {\r\n    filters: [\r\n        {\r\n            dataSize: __1.MAX_PACK_VOUCHER_SIZE,\r\n        },\r\n        {\r\n            memcmp: {\r\n                offset: 1,\r\n                bytes: (0, __2.toPublicKey)(packSetKey).toBase58(),\r\n            },\r\n        },\r\n    ],\r\n});\r\nexports.getVouchersByPackSet = getVouchersByPackSet;\r\n//# sourceMappingURL=PackVoucher.js.map"]},"metadata":{},"sourceType":"script"}