{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.extendBorsh = void 0;\n\nvar web3_js_1 = require(\"@solana/web3.js\");\n\nvar borsh_1 = require(\"borsh\");\n\nvar bs58_1 = __importDefault(require(\"bs58\"));\n\nvar extendBorsh = function extendBorsh() {\n  borsh_1.BinaryReader.prototype.readPubkey = function () {\n    var reader = this;\n    var array = reader.readFixedArray(32);\n    return new web3_js_1.PublicKey(array);\n  };\n\n  borsh_1.BinaryWriter.prototype.writePubkey = function (value) {\n    var writer = this;\n    writer.writeFixedArray(value.toBuffer());\n  };\n\n  borsh_1.BinaryReader.prototype.readPubkeyAsString = function () {\n    var reader = this;\n    var array = reader.readFixedArray(32);\n    return bs58_1.default.encode(array);\n  };\n\n  borsh_1.BinaryWriter.prototype.writePubkeyAsString = function (value) {\n    var writer = this;\n    writer.writeFixedArray(bs58_1.default.decode(value));\n  }; // BTreeMap<u32, u32>\n\n\n  borsh_1.BinaryReader.prototype.readMap32 = function () {\n    var reader = this;\n    var map = new Map();\n    var length = reader.readU32();\n\n    for (var i = 0; i < length; i++) {\n      var key = reader.readU32();\n      var val = reader.readU32();\n      map.set(key, val);\n    }\n\n    return map;\n  }; // BTreeMap<u32, u32>\n\n\n  borsh_1.BinaryWriter.prototype.writeMap32 = function (value) {\n    var writer = this;\n    value.forEach(function (val, key) {\n      writer.writeU32(key);\n      writer.writeU32(val);\n    });\n  };\n};\n\nexports.extendBorsh = extendBorsh;\n(0, exports.extendBorsh)();","map":{"version":3,"sources":["../../../src/utils/borsh.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,IAAA,SAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,MAAA,GAAA,eAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;;AAGO,IAAM,WAAW,GAAG,SAAd,WAAc,GAAK;AAC7B,EAAA,OAAA,CAAA,YAAA,CAAa,SAAb,CAA+B,UAA/B,GAA4C,YAAA;AAC3C,QAAM,MAAM,GAAG,IAAf;AACA,QAAM,KAAK,GAAG,MAAM,CAAC,cAAP,CAAsB,EAAtB,CAAd;AACA,WAAO,IAAI,SAAA,CAAA,SAAJ,CAAc,KAAd,CAAP;AACD,GAJA;;AAMA,EAAA,OAAA,CAAA,YAAA,CAAa,SAAb,CAA+B,WAA/B,GAA6C,UAAU,KAAV,EAA0B;AACtE,QAAM,MAAM,GAAG,IAAf;AACA,IAAA,MAAM,CAAC,eAAP,CAAuB,KAAK,CAAC,QAAN,EAAvB;AACD,GAHA;;AAKA,EAAA,OAAA,CAAA,YAAA,CAAa,SAAb,CAA+B,kBAA/B,GAAoD,YAAA;AACnD,QAAM,MAAM,GAAG,IAAf;AACA,QAAM,KAAK,GAAG,MAAM,CAAC,cAAP,CAAsB,EAAtB,CAAd;AACA,WAAO,MAAA,CAAA,OAAA,CAAO,MAAP,CAAc,KAAd,CAAP;AACD,GAJA;;AAMA,EAAA,OAAA,CAAA,YAAA,CAAa,SAAb,CAA+B,mBAA/B,GAAqD,UACpD,KADoD,EAC9B;AAEtB,QAAM,MAAM,GAAG,IAAf;AACA,IAAA,MAAM,CAAC,eAAP,CAAuB,MAAA,CAAA,OAAA,CAAO,MAAP,CAAc,KAAd,CAAvB;AACD,GALA,CAlB6B,CAyB9B;;;AACC,EAAA,OAAA,CAAA,YAAA,CAAa,SAAb,CAA+B,SAA/B,GAA2C,YAAA;AAC1C,QAAM,MAAM,GAAG,IAAf;AACA,QAAM,GAAG,GAAG,IAAI,GAAJ,EAAZ;AACA,QAAM,MAAM,GAAG,MAAM,CAAC,OAAP,EAAf;;AACA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,MAApB,EAA4B,CAAC,EAA7B,EAAiC;AAC/B,UAAM,GAAG,GAAG,MAAM,CAAC,OAAP,EAAZ;AACA,UAAM,GAAG,GAAG,MAAM,CAAC,OAAP,EAAZ;AACA,MAAA,GAAG,CAAC,GAAJ,CAAQ,GAAR,EAAa,GAAb;AACD;;AACD,WAAO,GAAP;AACD,GAVA,CA1B6B,CAsC9B;;;AACC,EAAA,OAAA,CAAA,YAAA,CAAa,SAAb,CAA+B,UAA/B,GAA4C,UAC3C,KAD2C,EACjB;AAE1B,QAAM,MAAM,GAAG,IAAf;AACA,IAAA,KAAK,CAAC,OAAN,CAAc,UAAC,GAAD,EAAM,GAAN,EAAa;AACzB,MAAA,MAAM,CAAC,QAAP,CAAgB,GAAhB;AACA,MAAA,MAAM,CAAC,QAAP,CAAgB,GAAhB;AACD,KAHD;AAID,GARA;AASF,CAhDM;;AAAM,OAAA,CAAA,WAAA,GAAW,WAAX;AAkDb,CAAA,GAAA,OAAA,CAAA,WAAA","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.extendBorsh = void 0;\r\nconst web3_js_1 = require(\"@solana/web3.js\");\r\nconst borsh_1 = require(\"borsh\");\r\nconst bs58_1 = __importDefault(require(\"bs58\"));\r\nconst extendBorsh = () => {\r\n    borsh_1.BinaryReader.prototype.readPubkey = function () {\r\n        const reader = this;\r\n        const array = reader.readFixedArray(32);\r\n        return new web3_js_1.PublicKey(array);\r\n    };\r\n    borsh_1.BinaryWriter.prototype.writePubkey = function (value) {\r\n        const writer = this;\r\n        writer.writeFixedArray(value.toBuffer());\r\n    };\r\n    borsh_1.BinaryReader.prototype.readPubkeyAsString = function () {\r\n        const reader = this;\r\n        const array = reader.readFixedArray(32);\r\n        return bs58_1.default.encode(array);\r\n    };\r\n    borsh_1.BinaryWriter.prototype.writePubkeyAsString = function (value) {\r\n        const writer = this;\r\n        writer.writeFixedArray(bs58_1.default.decode(value));\r\n    };\r\n    // BTreeMap<u32, u32>\r\n    borsh_1.BinaryReader.prototype.readMap32 = function () {\r\n        const reader = this;\r\n        const map = new Map();\r\n        const length = reader.readU32();\r\n        for (let i = 0; i < length; i++) {\r\n            const key = reader.readU32();\r\n            const val = reader.readU32();\r\n            map.set(key, val);\r\n        }\r\n        return map;\r\n    };\r\n    // BTreeMap<u32, u32>\r\n    borsh_1.BinaryWriter.prototype.writeMap32 = function (value) {\r\n        const writer = this;\r\n        value.forEach((val, key) => {\r\n            writer.writeU32(key);\r\n            writer.writeU32(val);\r\n        });\r\n    };\r\n};\r\nexports.extendBorsh = extendBorsh;\r\n(0, exports.extendBorsh)();\r\n//# sourceMappingURL=borsh.js.map"]},"metadata":{},"sourceType":"script"}