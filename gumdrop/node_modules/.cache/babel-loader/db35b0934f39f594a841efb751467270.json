{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.processPackCards = void 0;\n\nvar __1 = require(\"../..\");\n\nvar PackCard_1 = require(\"../../models/packs/accounts/PackCard\");\n\nvar utils_1 = require(\"../../utils\");\n\nvar processPackCards = function processPackCards(_ref, setter) {\n  var account = _ref.account,\n      pubkey = _ref.pubkey;\n  if (!isPackAccount(account)) return;\n\n  try {\n    if (isPackCardAccount(account)) {\n      var packCard = (0, PackCard_1.decodePackCard)(account.data);\n      var parsedAccount = {\n        pubkey: pubkey,\n        account: account,\n        info: packCard\n      };\n      setter('packCards', pubkey, parsedAccount);\n      setter('packCardsByPackSet', packCard.packSet, parsedAccount);\n    }\n  } catch (_unused) {// ignore errors\n    // add type as first byte for easier deserialization\n  }\n};\n\nexports.processPackCards = processPackCards;\n\nvar isPackAccount = function isPackAccount(account) {\n  return account && (0, utils_1.pubkeyToString)(account.owner) === utils_1.PACK_CREATE_ID.toString();\n};\n\nvar isPackCardAccount = function isPackCardAccount(account) {\n  return account.data[0] === __1.PackKey.PackCard;\n};","map":{"version":3,"sources":["../../../../src/contexts/meta/processPackCards.ts"],"names":[],"mappings":";;;;;;;AACA,IAAA,GAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AACA,IAAA,UAAA,GAAA,OAAA,CAAA,sCAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAIO,IAAM,gBAAgB,GAAwB,SAAxC,gBAAwC,OAEnD,MAFmD,EAGjD;AAAA,MAFA,OAEA,QAFA,OAEA;AAAA,MAFS,MAET,QAFS,MAET;AACF,MAAI,CAAC,aAAa,CAAC,OAAD,CAAlB,EAA6B;;AAE7B,MAAI;AACF,QAAI,iBAAiB,CAAC,OAAD,CAArB,EAAgC;AAC9B,UAAM,QAAQ,GAAG,CAAA,GAAA,UAAA,CAAA,cAAA,EAAe,OAAO,CAAC,IAAvB,CAAjB;AACA,UAAM,aAAa,GAA4B;AAC7C,QAAA,MAAM,EAAN,MAD6C;AAE7C,QAAA,OAAO,EAAE,OAFoC;AAG7C,QAAA,IAAI,EAAE;AAHuC,OAA/C;AAMA,MAAA,MAAM,CAAC,WAAD,EAAc,MAAd,EAAsB,aAAtB,CAAN;AACA,MAAA,MAAM,CAAC,oBAAD,EAAuB,QAAQ,CAAC,OAAhC,EAAyC,aAAzC,CAAN;AACD;AACF,GAZD,CAYE,gBAAM,CACN;AACA;AACD;AACF,CAtBM;;AAAM,OAAA,CAAA,gBAAA,GAAgB,gBAAhB;;AAwBb,IAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,OAAD;AAAA,SACpB,OAAO,IAAI,CAAA,GAAA,OAAA,CAAA,cAAA,EAAe,OAAO,CAAC,KAAvB,MAAkC,OAAA,CAAA,cAAA,CAAe,QAAf,EADzB;AAAA,CAAtB;;AAGA,IAAM,iBAAiB,GAAG,SAApB,iBAAoB,CAAC,OAAD;AAAA,SACxB,OAAO,CAAC,IAAR,CAAa,CAAb,MAAoB,GAAA,CAAA,OAAA,CAAQ,QADJ;AAAA,CAA1B","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.processPackCards = void 0;\r\nconst __1 = require(\"../..\");\r\nconst PackCard_1 = require(\"../../models/packs/accounts/PackCard\");\r\nconst utils_1 = require(\"../../utils\");\r\nconst processPackCards = ({ account, pubkey }, setter) => {\r\n    if (!isPackAccount(account))\r\n        return;\r\n    try {\r\n        if (isPackCardAccount(account)) {\r\n            const packCard = (0, PackCard_1.decodePackCard)(account.data);\r\n            const parsedAccount = {\r\n                pubkey,\r\n                account: account,\r\n                info: packCard,\r\n            };\r\n            setter('packCards', pubkey, parsedAccount);\r\n            setter('packCardsByPackSet', packCard.packSet, parsedAccount);\r\n        }\r\n    }\r\n    catch {\r\n        // ignore errors\r\n        // add type as first byte for easier deserialization\r\n    }\r\n};\r\nexports.processPackCards = processPackCards;\r\nconst isPackAccount = (account) => account && (0, utils_1.pubkeyToString)(account.owner) === utils_1.PACK_CREATE_ID.toString();\r\nconst isPackCardAccount = (account) => account.data[0] === __1.PackKey.PackCard;\r\n//# sourceMappingURL=processPackCards.js.map"]},"metadata":{},"sourceType":"script"}