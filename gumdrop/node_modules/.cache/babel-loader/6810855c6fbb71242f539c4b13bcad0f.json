{"ast":null,"code":"import { __assign, __values } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\nexport var moveHeadersToQuery = function moveHeadersToQuery(request, options) {\n  var e_1, _a;\n\n  var _b;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _c = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request),\n      headers = _c.headers,\n      _d = _c.query,\n      query = _d === void 0 ? {} : _d;\n\n  try {\n    for (var _e = __values(Object.keys(headers)), _f = _e.next(); !_f.done; _f = _e.next()) {\n      var name = _f.value;\n      var lname = name.toLowerCase();\n\n      if (lname.substr(0, 6) === \"x-amz-\" && !((_b = options.unhoistableHeaders) === null || _b === void 0 ? void 0 : _b.has(lname))) {\n        query[name] = headers[name];\n        delete headers[name];\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return __assign(__assign({}, request), {\n    headers: headers,\n    query: query\n  });\n};","map":{"version":3,"sources":["C:/Users/AHSAN PC/Desktop/digitsu/gamp/js/node_modules/@aws-sdk/signature-v4/dist-es/moveHeadersToQuery.js"],"names":["__assign","__values","cloneRequest","moveHeadersToQuery","request","options","e_1","_a","_b","_c","clone","headers","_d","query","_e","Object","keys","_f","next","done","name","value","lname","toLowerCase","substr","unhoistableHeaders","has","e_1_1","error","return","call"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,QAAnB,QAAmC,OAAnC;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,OAAO,IAAIC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AACxD,MAAIC,GAAJ,EAASC,EAAT;;AACA,MAAIC,EAAJ;;AACA,MAAIH,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,IAAAA,OAAO,GAAG,EAAV;AAAe;;AACzC,MAAII,EAAE,GAAG,OAAOL,OAAO,CAACM,KAAf,KAAyB,UAAzB,GAAsCN,OAAO,CAACM,KAAR,EAAtC,GAAwDR,YAAY,CAACE,OAAD,CAA7E;AAAA,MAAwFO,OAAO,GAAGF,EAAE,CAACE,OAArG;AAAA,MAA8GC,EAAE,GAAGH,EAAE,CAACI,KAAtH;AAAA,MAA6HA,KAAK,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA1J;;AACA,MAAI;AACA,SAAK,IAAIE,EAAE,GAAGb,QAAQ,CAACc,MAAM,CAACC,IAAP,CAAYL,OAAZ,CAAD,CAAjB,EAAyCM,EAAE,GAAGH,EAAE,CAACI,IAAH,EAAnD,EAA8D,CAACD,EAAE,CAACE,IAAlE,EAAwEF,EAAE,GAAGH,EAAE,CAACI,IAAH,EAA7E,EAAwF;AACpF,UAAIE,IAAI,GAAGH,EAAE,CAACI,KAAd;AACA,UAAIC,KAAK,GAAGF,IAAI,CAACG,WAAL,EAAZ;;AACA,UAAID,KAAK,CAACE,MAAN,CAAa,CAAb,EAAgB,CAAhB,MAAuB,QAAvB,IAAmC,EAAE,CAAChB,EAAE,GAAGH,OAAO,CAACoB,kBAAd,MAAsC,IAAtC,IAA8CjB,EAAE,KAAK,KAAK,CAA1D,GAA8D,KAAK,CAAnE,GAAuEA,EAAE,CAACkB,GAAH,CAAOJ,KAAP,CAAzE,CAAvC,EAAgI;AAC5HT,QAAAA,KAAK,CAACO,IAAD,CAAL,GAAcT,OAAO,CAACS,IAAD,CAArB;AACA,eAAOT,OAAO,CAACS,IAAD,CAAd;AACH;AACJ;AACJ,GATD,CAUA,OAAOO,KAAP,EAAc;AAAErB,IAAAA,GAAG,GAAG;AAAEsB,MAAAA,KAAK,EAAED;AAAT,KAAN;AAAyB,GAVzC,SAWQ;AACJ,QAAI;AACA,UAAIV,EAAE,IAAI,CAACA,EAAE,CAACE,IAAV,KAAmBZ,EAAE,GAAGO,EAAE,CAACe,MAA3B,CAAJ,EAAwCtB,EAAE,CAACuB,IAAH,CAAQhB,EAAR;AAC3C,KAFD,SAGQ;AAAE,UAAIR,GAAJ,EAAS,MAAMA,GAAG,CAACsB,KAAV;AAAkB;AACxC;;AACD,SAAO5B,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKI,OAAL,CAAT,EAAwB;AAAEO,IAAAA,OAAO,EAAEA,OAAX;AAAoBE,IAAAA,KAAK,EAAEA;AAA3B,GAAxB,CAAf;AACH,CAvBM","sourcesContent":["import { __assign, __values } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\nexport var moveHeadersToQuery = function (request, options) {\n    var e_1, _a;\n    var _b;\n    if (options === void 0) { options = {}; }\n    var _c = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request), headers = _c.headers, _d = _c.query, query = _d === void 0 ? {} : _d;\n    try {\n        for (var _e = __values(Object.keys(headers)), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var name = _f.value;\n            var lname = name.toLowerCase();\n            if (lname.substr(0, 6) === \"x-amz-\" && !((_b = options.unhoistableHeaders) === null || _b === void 0 ? void 0 : _b.has(lname))) {\n                query[name] = headers[name];\n                delete headers[name];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return __assign(__assign({}, request), { headers: headers, query: query });\n};\n"]},"metadata":{},"sourceType":"module"}